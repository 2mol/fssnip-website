function initChosen(){chosenInitialized=!0,$("select").chosen({create_option:!0,persistent_create_option:!0,skip_no_results:!0}),$("select").trigger("chosen:updated")}function switchHidden(){$("#hidden").is(":checked")?$(".public-details").css("display","none"):($(".public-details").css("display",""),chosenInitialized||initChosen())}$(document).ready(function(){var e,n={code:"",packages:""},s=!1,a=!0;$("select").on("change",function(){a=!1}),$("#submit").on("click",function(){return s&&!confirm("Your snippet contains compilation errors. Are you sure you want to submit it?")?!1:void 0}),$("#code, #nuget").on("change keyup paste",function(t){clearTimeout(e),e=setTimeout(function(e){var t={code:$("#code").val(),packages:$("#nuget").val()};if((t.code!=n.code||t.packages!=n.packages)&&""!=t.code){n=t;var i=$("#insert-form").serialize();$.ajax({url:"/pages/insert/check",data:i,type:"POST"}).done(function(e){a&&e.tags.length>0&&($("select").val(e.tags),$("select").trigger("chosen:updated"));var n=$("#errors");if(n.empty(),s=e.errors.filter(function(e){return e.error}).length>0,0==e.errors.length){var t="<span class='glyphicon glyphicon-ok-sign' aria-hidden='true'></span>";n.append($("<div role='alert' class='alert alert-success'>"+t+"<span class='msg'>The snippet parses and type checks with no errors.</span></div>"))}else e.errors.forEach(function(e){var s="<span class='glyphicon glyphicon-"+(e.error?"exclamation":"warning")+"-sign' aria-hidden='true'></span>";n.append($("<div role='alert' class='alert alert-"+(e.error?"danger":"warning")+"'>"+s+"<span class='loc'>"+e.location[0]+":"+e.location[1]+"</span><span class='msg'>"+e.message+"</span></div>"))})})}},1e3)})});var chosenInitialized=!1;$(document).ready(function(){$.ajax({url:"/pages/insert/taglist"}).done(function(e){e.forEach(function(e){$("select").append('<option value="'+e+'">'+e+"</option>")}),$("select").trigger("chosen:updated")})});